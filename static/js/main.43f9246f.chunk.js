(this["webpackJsonpcurrency-exchange"]=this["webpackJsonpcurrency-exchange"]||[]).push([[0],{164:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),o=n.n(c),s=n(19),i=n(22),l=n(110),d="#2FE000",u="#ffffff",j="#F7D854",b="#0085FF",x="#2FE000",h="#FF3000",O=(Object(l.a)({palette:{mode:"light"}}),Object(l.a)({palette:{mode:"dark",primary:{main:d},secondary:{main:u},info:{main:j},warning:{main:b},success:{main:x},error:{main:h}},components:{MuiPaper:{styleOverrides:{root:{flexGrow:"1"}}}}})),f=(n(164),n(341)),m=n(10),g={USD:"$",AUD:"$",EUR:"\u20ac",INR:"\u20b9",CRC:"\u20a1",BTC:"\u0e3f",GBP:"\xa3",ILS:"\u20aa",JPY:"\xa5",KRW:"\u20a9"},v={USD:"$",AUD:"$",EUR:"\u20ac",INR:"\u20b9",CRC:"\u20a1"},p=n(139),y=n(23),C=Object(p.a)({reducerPath:"exchangeApi",baseQuery:Object(y.d)({baseUrl:"https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/"}),endpoints:function(e){return{getExchangeRatesByCurrency:e.query({query:function(e){return"/".concat(e)}})}}}),w=C.useGetExchangeRatesByCurrencyQuery,D=n(333),S=n(336),L=n(337),A=n(329),U=n(1);function R(e){var t=e.name,n=e.value,r=e.onChange,c=e.isFiltered,o=a.useState(null),s=Object(m.a)(o,2),i=s[0],l=s[1],d=a.useState(!1),u=Object(m.a)(d,2),j=u[0],b=u[1],x=w("latest/currencies.json"),h=x.data;x.error,x.isLoading;return a.useEffect((function(){l(h),b(c?v:g)}),[h]),Object(U.jsxs)(A.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"1%"},children:[Object(U.jsx)(L.a,{id:"demo-simple-select-autowidth-label",children:t}),Object(U.jsx)(D.a,{labelId:"demo-simple-select-autowidth-label",name:t,label:t,value:n.toUpperCase(),onChange:r,sx:{color:"white"},children:i&&Object.keys(i).filter((function(e){return function(e){if(void 0!=j[e.toUpperCase()])return e}(e)})).map((function(e){return Object(U.jsxs)(S.a,{color:"primary",value:e.toUpperCase(),children:[j[e.toUpperCase()]," ",e.toUpperCase()," - ",i[e]]},e)}))})]})}var F=n(3),E=n(5),I=n(346),T=n(348),N=n(331),k=n(108),B=n(345),P=n(347),z=n(344),G=n(342),$=n(11),J=Object($.d)({name:"exchanges",initialState:{convertionsList:[],tableRowData:[],TimseSeries:[],AUDExchangeRates:{aud:{},usd:{},inr:{},eur:{},crc:{}}},reducers:{addToConvertions:function(e,t){e.convertionsList.push(t.payload)},setTableRowData:function(e,t){e.tableRowData=t.payload},addTimeSeries:function(e,t){e.TimseSeries.push(t.payload)},addAUDExchangeRates:function(e,t){void 0!==e.AUDExchangeRates[t.payload[0]][t.payload[1]]?e.AUDExchangeRates[t.payload[0]][t.payload[1]].push(t.payload[2]):e.AUDExchangeRates[t.payload[0]][t.payload[1]]=[t.payload[2]]}}}),W=J.actions,X=W.addToConvertions,Y=W.setTableRowData,q=W.addTimeSeries,M=W.addAUDExchangeRates,Q=J.reducer,K=n(349),V=Object(E.a)(N.a)((function(e){var t,n=e.theme;return t={},Object(F.a)(t,"&.".concat(k.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(F.a)(t,"&.".concat(k.a.body),{fontSize:14}),t})),Z=Object(E.a)(z.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));var H=function(e){return[e.data,e.error,e.isLoading]};function _(e){var t=e.fromCurrency,n=function(){var e=new Date;e.setDate(e.getDate()-2);var t=e.getDate(),n=e.getMonth()+1;return e.getFullYear()+"-"+("0"+n).slice(-2)+"-"+("0"+t).slice(-2)}(),r=Object(s.e)((function(e){return e.exchanges})).tableRowData,c=Object(s.d)(),o=w("latest/currencies/".concat(t.toLowerCase(),".json")),i=H(o),l=Object(m.a)(i,3),d=l[0],u=l[1],j=l[2],b=w("".concat(n,"/currencies/").concat(t.toLowerCase(),".json")),x=H(b),h=Object(m.a)(x,3),O=h[0],f=h[1],v=h[2],p=function(e,t){return e>t?1:e<t?-1:0};return a.useEffect((function(){if(!(null===d||void 0===d?void 0:d[t.toLowerCase()])||!(null===O||void 0===O?void 0:O[t.toLowerCase()]))return null;!function(e,t,n){var a=Object.entries(g).map((function(a,r){var c=Object(m.a)(a,2),o=c[0];return function(e,t,n,a,r){return{code:e,symbol:t,latest:n,yesterday:a,change:99}}(o,c[1],null===e||void 0===e?void 0:e[n.toLowerCase()][o.toLowerCase()],null===t||void 0===t?void 0:t[n.toLowerCase()][o.toLowerCase()])}));c(Y(a))}(d,O,t)}),[d,O]),f|u?Object(U.jsx)(U.Fragment,{children:"Oh! there is an error"}):j|v?Object(U.jsx)(U.Fragment,{children:"Loading...."}):Object(U.jsx)(B.a,{component:G.a,children:Object(U.jsxs)(I.a,{sx:{minWidth:700},"aria-label":"customized table",children:[Object(U.jsx)(P.a,{children:Object(U.jsxs)(z.a,{children:[Object(U.jsx)(V,{children:"Currency Code"}),Object(U.jsx)(V,{align:"right",children:"Symbol"}),Object(U.jsx)(V,{align:"right",children:"Latest Exchange Rate"}),Object(U.jsx)(V,{align:"right",children:"Yesterdays Exchange Rate"}),Object(U.jsx)(V,{align:"right",children:"% Change"})]})}),Object(U.jsx)(T.a,{children:r.map((function(e){return Object(U.jsxs)(Z,{children:[Object(U.jsx)(V,{component:"th",scope:"row",children:e.code}),Object(U.jsx)(V,{align:"right",children:e.symbol}),Object(U.jsx)(V,{align:"right",children:e.latest}),Object(U.jsx)(V,{align:"right",children:e.yesterday}),Object(U.jsxs)(V,{align:"right",children:[" ",p(e.latest,e.yesterday)>0&&Object(U.jsxs)(K.a,{variant:"h7",color:"primary",children:["Percentage increase +",((e.latest-e.yesterday)/e.yesterday*100).toFixed(3),"%"]}),p(e.latest,e.yesterday)<0&&Object(U.jsxs)(K.a,{variant:"h7",color:"error",children:["Percentage decrease -",((e.yesterday-e.latest)/e.yesterday*100).toFixed(3),"%"]}),0==p(e.latest,e.yesterday)&&Object(U.jsxs)(K.a,{variant:"h7",color:"warning",children:["No % change"," "]})]})]},e.code)}))})]})})}function ee(){var e=r.a.useState("AUD"),t=Object(m.a)(e,2),n=t[0],a=t[1];return Object(U.jsx)(A.a,{className:"rates-container",sx:{display:"flex",overflowX:"scroll"},children:Object(U.jsxs)(G.a,{elevation:12,className:"rates-wrapper",children:[Object(U.jsx)(R,{name:"Base currency",value:n,onChange:function(e){return a(e.target.value)}}),Object(U.jsx)(_,{fromCurrency:n})]})})}var te=n(143),ne=n(332);function ae(e){var t=e.toCurrency,n=e.fromCurrency,a={labels:Object(s.e)((function(e){return e.exchanges.TimseSeries})),datasets:[{label:"Change in exchange rate",data:Object(s.e)((function(e){return e.exchanges.AUDExchangeRates}))[n][t],fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(U.jsx)(ne.a,{sx:{display:"flex"},children:Object(U.jsx)(G.a,{children:Object(U.jsx)(te.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]}}})})})}var re=n(340),ce=n(109),oe=n.n(ce),se=n(142),ie=function(e){return[e.data,e.error,e.isLoading,e.isFetching]};function le(e){e.fromCurrency,e.toCurrency;var t=e.pollingInterval,n=Object(s.d)(),a=w("latest/currencies/aud.json",{pollingInterval:t}),c=ie(a),o=Object(m.a)(c,4),i=o[0],l=(o[1],o[2],o[3]),d=w("latest/currencies/inr.json",{pollingInterval:t}),u=ie(d),j=Object(m.a)(u,4),b=j[0],x=(j[1],j[2],j[3]),h=w("latest/currencies/usd.json",{pollingInterval:t}),O=ie(h),f=Object(m.a)(O,4),v=f[0],p=(f[1],f[2],f[3]),y=w("latest/currencies/eur.json",{pollingInterval:t}),C=ie(y),D=Object(m.a)(C,4),S=D[0],L=(D[1],D[2],D[3]),A=w("latest/currencies/crc.json",{pollingInterval:t}),R=ie(A),F=Object(m.a)(R,4),E=F[0],I=(F[1],F[2],F[3]),T=[i,b,v,S,E],N=["aud","inr","usd","eur","crc"],k=function(){var e=Object(se.a)(oe.a.mark((function e(){var t,a;return oe.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0;t<T.length;t++)void 0!==T[t]&&Object.keys(T[t][N[t]]).map((function(e){void 0!=g[e.toUpperCase()]&&n(M([N[t],e,T[t][N[t]][e]]))}));a=(new Date).toLocaleString(),n(q(a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){(l||p||x||L||I)&&k()}),[I]),(null===i||void 0===i?void 0:i[N[0]])&&(null===b||void 0===b?void 0:b[N[1]])&&(null===v||void 0===v?void 0:v[N[2]])&&(null===S||void 0===S?void 0:S[N[3]])&&(null===E||void 0===E?void 0:E[N[4]])?Object(U.jsx)("div",{}):null}function de(){var e=a.useState("AUD"),t=Object(m.a)(e,2),n=t[0],r=t[1],c=a.useState("USD"),o=Object(m.a)(c,2),s=o[0],i=o[1],l=a.useState(5e3),d=Object(m.a)(l,2),u=d[0];d[1];return Object(U.jsx)(A.a,{className:"charts-container",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",overflowX:"scroll"},p:1,children:Object(U.jsxs)(G.a,{elevation:12,className:"charts-wrapper",children:[Object(U.jsxs)(re.a,{container:!0,spacing:1,sx:{margin:"3%"},direction:"row",justifyContent:"center",alignItems:"center",children:[Object(U.jsx)(re.a,{item:!0,xs:12,md:4,children:Object(U.jsx)(R,{name:"From",value:n,onChange:function(e){return r(e.target.value)},isFiltered:!0})}),Object(U.jsx)(re.a,{item:!0,xs:12,md:4,children:Object(U.jsx)(R,{name:"To",value:s,onChange:function(e){return i(e.target.value)},isFiltered:!1})})]}),Object(U.jsxs)(K.a,{sx:{fontSize:14,textAlign:"center"},color:"text.secondary",gutterBottom:!0,p:1,children:["Graph shows latest exchange rates for ",n," and"," ",s," currencies"]}),Object(U.jsx)(le,{pollingInterval:u,toCurrency:s.toLowerCase(),fromCurrency:n.toLowerCase()}),Object(U.jsx)(ae,{toCurrency:s.toLocaleLowerCase(),fromCurrency:n.toLowerCase()})]})})}var ue=n(350);function je(e){var t=e.fromCurrency,n=e.toCurrency,r=e.amount,c=Object(a.useState)(0),o=Object(m.a)(c,2),i=o[0],l=o[1],d=Object(s.d)(),u=w("latest/currencies/".concat(t.toLowerCase(),"/").concat(n.toLowerCase(),".json")).data,j=function(){!function(e){l(e);var a={from:t,to:n,amount:r,convertionAmount:e,convertionTime:Date.now()};d(X(a))}((Number(r)*u[n.toLowerCase()]).toFixed(4))};return Object(U.jsxs)(re.a,{container:!0,spacing:1,p:3,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(U.jsx)(re.a,{item:!0,xs:6,md:4,sx:{alignSelf:"center",textAlign:"center"},children:Object(U.jsx)(ue.a,{variant:"contained",onClick:function(){return j()},children:"Convert"})}),Object(U.jsx)(re.a,{item:!0,xs:12,md:8,sx:{alignSelf:"center",textAlign:"center"},children:Object(U.jsxs)("div",{children:[Object(U.jsxs)(K.a,{variant:"subtitle2",children:[" ",g[t]," ",r," ="]}),Object(U.jsxs)(K.a,{variant:"h3",children:[" ",g[n]," ",i]})]})})]})}var be=n(343),xe=n(351),he=n(338);function Oe(){var e=r.a.useState("AUD"),t=Object(m.a)(e,2),n=t[0],a=t[1],c=r.a.useState("AUD"),o=Object(m.a)(c,2),s=o[0],i=o[1],l=r.a.useState(!1),d=Object(m.a)(l,2),u=d[0],j=d[1];return r.a.useEffect((function(){console.log("coming..")}),[s,n]),Object(U.jsxs)(A.a,{component:"form",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column"},noValidate:!0,autoComplete:"off",children:[Object(U.jsxs)(re.a,{container:!0,spacing:1,p:5,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(U.jsx)(re.a,{item:!0,xs:7,md:4,sx:{alignSelf:"center"},children:Object(U.jsx)(he.a,{variant:"standard",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:Object(U.jsx)(be.a,{id:"standard-adornment-amount",placeholder:"input amount",type:"number",value:u,sx:{color:"white"},onChange:function(e){return j(e.target.value)},startAdornment:Object(U.jsx)(xe.a,{position:"start",children:g[n]})})})}),Object(U.jsx)(re.a,{item:!0,xs:7,md:4,children:Object(U.jsx)(R,{name:"From",value:n,onChange:function(e){return a(e.target.value)},isFiltered:!1})}),Object(U.jsx)(re.a,{item:!0,xs:7,md:4,children:Object(U.jsx)(R,{name:"To",value:s,onChange:function(e){return i(e.target.value)},isFiltered:!1})})]}),Object(U.jsx)(je,{fromCurrency:n,toCurrency:s,amount:u})]})}var fe=n(17),me=n(352),ge=n(353);function ve(){var e=Object(s.e)((function(e){return e.exchanges.convertionsList})),t=Object(fe.a)(e),n=t.length;return Object(U.jsx)(A.a,{sx:{minWidth:275,display:"flex",flexDirection:"column",marginTop:"1%"},children:n?t.reverse().map((function(e,t){return Object(U.jsx)(me.a,{variant:"outlined",children:Object(U.jsxs)(ge.a,{children:[Object(U.jsx)(K.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:(n=null===e||void 0===e?void 0:e.convertionTime,new Date(n).toLocaleString())}),Object(U.jsxs)(K.a,{variant:"h6",component:"div",textAlign:"center",className:"conversion-history-record",children:[e.amount," ",e.from," to"," ",e.convertionAmount," ",e.to]})]})},t);var n})):Object(U.jsx)(K.a,{sx:{fontSize:14,textAlign:"center"},color:"text.secondary",gutterBottom:!0,children:"No previous conversions found!"})})}function pe(){return Object(U.jsx)(A.a,{className:"conversion-container",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",overflowX:"scroll"},children:Object(U.jsxs)(G.a,{elevation:12,className:"conversion-wrapper",children:[Object(U.jsx)(Oe,{}),Object(U.jsx)(ve,{})]})})}var ye=n(335),Ce=n(354);function we(){var e=a.useState(0),t=Object(m.a)(e,2),n=t[0],r=t[1];return Object(U.jsx)(A.a,{className:"nav-container",sx:{width:"100%"},children:Object(U.jsxs)(G.a,{children:[Object(U.jsxs)(ye.a,{value:n,onChange:function(e,t){r(t)},centered:!0,children:[Object(U.jsx)(Ce.a,{label:"Rates"}),Object(U.jsx)(Ce.a,{label:"Charts"}),Object(U.jsx)(Ce.a,{label:"Conversion"})]}),0===n&&Object(U.jsx)(ee,{}),1===n&&Object(U.jsx)(de,{}),2===n&&Object(U.jsx)(pe,{})]})})}var De=function(){return Object(U.jsx)("div",{className:"app",children:Object(U.jsx)(f.a,{fixed:!0,children:Object(U.jsx)(we,{})})})},Se=Object($.a)({reducer:Object(F.a)({exchanges:Q},C.reducerPath,C.reducer),middleware:function(e){return e().concat(C.middleware)}});Object(y.e)(Se.dispatch),o.a.render(Object(U.jsx)(s.a,{store:Se,children:Object(U.jsx)(i.c,{theme:O,children:Object(U.jsx)(De,{})})}),document.getElementById("root"))}},[[275,1,2]]]);
//# sourceMappingURL=main.43f9246f.chunk.js.map