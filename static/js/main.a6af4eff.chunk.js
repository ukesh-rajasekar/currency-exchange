(this["webpackJsonpcurrency-exchange"]=this["webpackJsonpcurrency-exchange"]||[]).push([[0],{164:function(e,t,n){},275:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(32),s=n.n(c),o=n(19),i=n(22),l=n(110),d="#2FE000",u="#ffffff",j="#F7D854",b="#0085FF",x="#2FE000",h="#FF3000",m=(Object(l.a)({palette:{mode:"light"}}),Object(l.a)({palette:{mode:"dark",primary:{main:d},secondary:{main:u},info:{main:j},warning:{main:b},success:{main:x},error:{main:h}},components:{MuiPaper:{styleOverrides:{root:{flexGrow:"1"}}}}})),O=(n(164),n(341)),f=n(10),g={USD:"$",AUD:"$",EUR:"\u20ac",INR:"\u20b9",CRC:"\u20a1",BTC:"\u0e3f",GBP:"\xa3",ILS:"\u20aa",JPY:"\xa5",KRW:"\u20a9"},p={USD:"$",AUD:"$",EUR:"\u20ac",INR:"\u20b9",CRC:"\u20a1"},v=n(139),y=n(23),C=Object(v.a)({reducerPath:"exchangeApi",baseQuery:Object(y.d)({baseUrl:"https://cdn.jsdelivr.net/gh/fawazahmed0/currency-api@1/"}),endpoints:function(e){return{getExchangeRatesByCurrency:e.query({query:function(e){return"/".concat(e)}})}}}),w=C.useGetExchangeRatesByCurrencyQuery,D=n(333),S=n(336),N=n(337),L=n(329),A=n(2);function F(e){var t=e.name,n=e.value,r=e.onChange,c=e.isFiltered,s=a.useState(null),o=Object(f.a)(s,2),i=o[0],l=o[1],d=a.useState(!1),u=Object(f.a)(d,2),j=u[0],b=u[1],x=w("latest/currencies.json"),h=x.data;x.error,x.isLoading;return a.useEffect((function(){l(h),b(c?p:g)}),[h]),Object(A.jsxs)(L.a,{sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center",padding:"1%"},children:[Object(A.jsx)(N.a,{id:"demo-simple-select-autowidth-label",children:t}),Object(A.jsx)(D.a,{labelId:"demo-simple-select-autowidth-label",name:t,label:t,value:n.toUpperCase(),onChange:r,sx:{color:"white"},children:i&&Object.keys(i).filter((function(e){return function(e){if(void 0!=j[e.toUpperCase()])return e}(e)})).map((function(e){return Object(A.jsxs)(S.a,{color:"primary",value:e.toUpperCase(),children:[j[e.toUpperCase()]," ",e.toUpperCase()," - ",i[e]]},e)}))})]})}var R=n(3),U=n(5),E=n(346),I=n(348),T=n(331),k=n(108),B=n(345),z=n(347),P=n(344),G=n(342),$=n(11),J=Object($.d)({name:"exchanges",initialState:{convertionsList:[],tableRowData:[],TimseSeries:[],AUDExchangeRates:{aud:{},usd:{},inr:{},eur:{},crc:{}}},reducers:{addToConvertions:function(e,t){e.convertionsList.push(t.payload)},setTableRowData:function(e,t){e.tableRowData=t.payload},addTimeSeries:function(e,t){e.TimseSeries.push(t.payload)},addAUDExchangeRates:function(e,t){void 0!==e.AUDExchangeRates[t.payload[0]][t.payload[1]]?e.AUDExchangeRates[t.payload[0]][t.payload[1]].push(t.payload[2]):e.AUDExchangeRates[t.payload[0]][t.payload[1]]=[t.payload[2]]}}}),W=J.actions,Y=W.addToConvertions,q=W.setTableRowData,M=W.addTimeSeries,Q=W.addAUDExchangeRates,K=J.reducer,V=Object(U.a)(T.a)((function(e){var t,n=e.theme;return t={},Object(R.a)(t,"&.".concat(k.a.head),{backgroundColor:n.palette.common.black,color:n.palette.common.white}),Object(R.a)(t,"&.".concat(k.a.body),{fontSize:14}),t})),X=Object(U.a)(P.a)((function(e){return{"&:nth-of-type(odd)":{backgroundColor:e.theme.palette.action.hover},"&:last-child td, &:last-child th":{border:0}}}));var Z=function(e){return[e.data,e.error,e.isLoading]};function H(e){var t=e.fromCurrency,n=function(){var e=new Date;e.setDate(e.getDate()-2);var t=e.getDate(),n=e.getMonth()+1;return e.getFullYear()+"-"+("0"+n).slice(-2)+"-"+("0"+t).slice(-2)}(),r=Object(o.e)((function(e){return e.exchanges})).tableRowData,c=Object(o.d)(),s=w("latest/currencies/".concat(t.toLowerCase(),".json")),i=Z(s),l=Object(f.a)(i,3),d=l[0],u=l[1],j=l[2],b=w("".concat(n,"/currencies/").concat(t.toLowerCase(),".json")),x=Z(b),h=Object(f.a)(x,3),m=h[0],O=h[1],p=h[2],v=function(e,t){return e>t?1:e<t?-1:0};return a.useEffect((function(){if(!(null===d||void 0===d?void 0:d[t.toLowerCase()])||!(null===m||void 0===m?void 0:m[t.toLowerCase()]))return null;!function(e,t,n){var a=Object.entries(g).map((function(a,r){var c=Object(f.a)(a,2),s=c[0];return function(e,t,n,a,r){return{code:e,symbol:t,latest:n,yesterday:a,change:99}}(s,c[1],null===e||void 0===e?void 0:e[n.toLowerCase()][s.toLowerCase()],null===t||void 0===t?void 0:t[n.toLowerCase()][s.toLowerCase()])}));c(q(a))}(d,m,t)}),[d,m]),O|u?Object(A.jsx)(A.Fragment,{children:"Oh! there is an error"}):j|p?Object(A.jsx)(A.Fragment,{children:"Loading...."}):Object(A.jsx)(B.a,{component:G.a,children:Object(A.jsxs)(E.a,{className:"table-wrapper",sx:{tableLayout:"fixed"},"aria-label":"customized table",children:[Object(A.jsx)(z.a,{children:Object(A.jsxs)(P.a,{children:[Object(A.jsx)(V,{className:"table-cell",children:"Currency Code"}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:"Symbol"}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:"Latest Exchange Rate"}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:"Yesterdays Exchange Rate"}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:"% Change"})]})}),Object(A.jsx)(I.a,{children:r.map((function(e){return Object(A.jsxs)(X,{children:[Object(A.jsx)(V,{className:"table-cell",component:"th",scope:"row",children:e.code}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:e.symbol}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:e.latest.toFixed(3)}),Object(A.jsx)(V,{className:"table-cell",align:"right",children:e.yesterday.toFixed(3)}),v(e.latest,e.yesterday)>0&&Object(A.jsxs)(V,{className:"table-cell",align:"right",sx:{color:"#2FE000"},children:["+",((e.latest-e.yesterday)/e.yesterday*100).toFixed(3),"%"]}),v(e.latest,e.yesterday)<0&&Object(A.jsxs)(V,{className:"table-cell",align:"right",sx:{color:"#FF3000"},children:["-",((e.yesterday-e.latest)/e.yesterday*100).toFixed(3),"%"]}),0==v(e.latest,e.yesterday)&&Object(A.jsxs)(V,{className:"table-cell",align:"right",children:["No % change"," "]})]},e.code)}))})]})})}function _(){var e=r.a.useState("AUD"),t=Object(f.a)(e,2),n=t[0],a=t[1];return Object(A.jsx)(L.a,{className:"rates-container",sx:{display:"flex",overflowX:"scroll"},children:Object(A.jsxs)(G.a,{elevation:12,className:"rates-wrapper",children:[Object(A.jsx)(F,{name:"Base currency",value:n,onChange:function(e){return a(e.target.value)}}),Object(A.jsx)(H,{fromCurrency:n})]})})}var ee=n(143),te=n(332);function ne(e){var t=e.toCurrency,n=e.fromCurrency,a={labels:Object(o.e)((function(e){return e.exchanges.TimseSeries})),datasets:[{label:"Change in exchange rate",data:Object(o.e)((function(e){return e.exchanges.AUDExchangeRates}))[n][t],fill:!1,backgroundColor:"rgb(255, 99, 132)",borderColor:"rgba(255, 99, 132, 0.2)"}]};return Object(A.jsx)(te.a,{className:"chart-wrapper",children:Object(A.jsx)(ee.a,{data:a,options:{scales:{yAxes:[{ticks:{beginAtZero:!0}}]},responsive:!0,maintainAspectRatio:!1,legend:{position:"top"}}})})}var ae=n(340),re=n(349),ce=n(109),se=n.n(ce),oe=n(142),ie=function(e){return[e.data,e.error,e.isLoading,e.isFetching]};function le(e){e.fromCurrency,e.toCurrency;var t=e.pollingInterval,n=Object(o.d)(),a=w("latest/currencies/aud.json",{pollingInterval:t}),c=ie(a),s=Object(f.a)(c,4),i=s[0],l=(s[1],s[2],s[3]),d=w("latest/currencies/inr.json",{pollingInterval:t}),u=ie(d),j=Object(f.a)(u,4),b=j[0],x=(j[1],j[2],j[3]),h=w("latest/currencies/usd.json",{pollingInterval:t}),m=ie(h),O=Object(f.a)(m,4),p=O[0],v=(O[1],O[2],O[3]),y=w("latest/currencies/eur.json",{pollingInterval:t}),C=ie(y),D=Object(f.a)(C,4),S=D[0],N=(D[1],D[2],D[3]),L=w("latest/currencies/crc.json",{pollingInterval:t}),F=ie(L),R=Object(f.a)(F,4),U=R[0],E=(R[1],R[2],R[3]),I=[i,b,p,S,U],T=["aud","inr","usd","eur","crc"],k=function(){var e=Object(oe.a)(se.a.mark((function e(){var t,a;return se.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=0;t<I.length;t++)void 0!==I[t]&&Object.keys(I[t][T[t]]).map((function(e){void 0!=g[e.toUpperCase()]&&n(Q([T[t],e,I[t][T[t]][e]]))}));a=(new Date).toLocaleString(),n(M(a));case 3:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.useEffect((function(){(l||v||x||N||E)&&k()}),[E]),(null===i||void 0===i?void 0:i[T[0]])&&(null===b||void 0===b?void 0:b[T[1]])&&(null===p||void 0===p?void 0:p[T[2]])&&(null===S||void 0===S?void 0:S[T[3]])&&(null===U||void 0===U?void 0:U[T[4]])?Object(A.jsx)("div",{}):null}function de(){var e=a.useState("AUD"),t=Object(f.a)(e,2),n=t[0],r=t[1],c=a.useState("USD"),s=Object(f.a)(c,2),o=s[0],i=s[1],l=a.useState(5e3),d=Object(f.a)(l,2),u=d[0];d[1];return Object(A.jsx)(L.a,{className:"charts-container",sx:{display:"flex",alignItems:"center",justifyContent:"space-between",flexWrap:"wrap",overflow:"hidden"},p:1,children:Object(A.jsxs)(G.a,{elevation:12,className:"charts-wrapper",children:[Object(A.jsxs)(ae.a,{container:!0,spacing:1,p:5,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(A.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(F,{name:"From",value:n,onChange:function(e){return r(e.target.value)},isFiltered:!0})}),Object(A.jsx)(ae.a,{item:!0,xs:12,md:6,children:Object(A.jsx)(F,{name:"To",value:o,onChange:function(e){return i(e.target.value)},isFiltered:!1})})]}),Object(A.jsxs)(re.a,{sx:{fontSize:14,textAlign:"center"},color:"text.secondary",gutterBottom:!0,p:1,children:["Graph shows latest exchange rates for ",n," and"," ",o," currencies"]}),Object(A.jsx)(le,{pollingInterval:u,toCurrency:o.toLowerCase(),fromCurrency:n.toLowerCase()}),Object(A.jsx)(ne,{toCurrency:o.toLocaleLowerCase(),fromCurrency:n.toLowerCase()})]})})}var ue=n(350);function je(e){var t=e.fromCurrency,n=e.toCurrency,r=e.amount,c=Object(a.useState)(0),s=Object(f.a)(c,2),i=s[0],l=s[1],d=Object(o.d)(),u=w("latest/currencies/".concat(t.toLowerCase(),"/").concat(n.toLowerCase(),".json")).data,j=function(){!function(e){l(e);var a={from:t,to:n,amount:r,convertionAmount:e,convertionTime:Date.now()};d(Y(a))}((Number(r)*u[n.toLowerCase()]).toFixed(4))};return Object(A.jsxs)(ae.a,{container:!0,spacing:1,p:3,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(A.jsx)(ae.a,{item:!0,xs:6,md:4,sx:{alignSelf:"center",textAlign:"center"},children:Object(A.jsx)(ue.a,{variant:"contained",onClick:function(){return j()},children:"Convert"})}),Object(A.jsx)(ae.a,{item:!0,xs:12,md:8,sx:{alignSelf:"center",textAlign:"center"},children:Object(A.jsxs)("div",{children:[Object(A.jsxs)(re.a,{variant:"subtitle2",children:[" ",g[t]," ",r," ="]}),Object(A.jsxs)(re.a,{variant:"h3",children:[" ",g[n]," ",i]})]})})]})}var be=n(343),xe=n(351),he=n(338);function me(){var e=r.a.useState("AUD"),t=Object(f.a)(e,2),n=t[0],a=t[1],c=r.a.useState("AUD"),s=Object(f.a)(c,2),o=s[0],i=s[1],l=r.a.useState(!1),d=Object(f.a)(l,2),u=d[0],j=d[1];return r.a.useEffect((function(){console.log("coming..")}),[o,n]),Object(A.jsxs)(L.a,{component:"form",sx:{display:"flex",justifyContent:"space-between",alignItems:"center",flexDirection:"column"},noValidate:!0,autoComplete:"off",children:[Object(A.jsxs)(ae.a,{container:!0,spacing:1,p:5,direction:"row",justifyContent:"center",alignItems:"center",children:[Object(A.jsx)(ae.a,{item:!0,xs:7,md:4,sx:{alignSelf:"center"},children:Object(A.jsx)(he.a,{variant:"standard",sx:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:Object(A.jsx)(be.a,{id:"standard-adornment-amount",placeholder:"input amount",type:"number",value:u,sx:{color:"white"},onChange:function(e){return j(e.target.value)},startAdornment:Object(A.jsx)(xe.a,{position:"start",children:g[n]})})})}),Object(A.jsx)(ae.a,{item:!0,xs:7,md:4,children:Object(A.jsx)(F,{name:"From",value:n,onChange:function(e){return a(e.target.value)},isFiltered:!1})}),Object(A.jsx)(ae.a,{item:!0,xs:7,md:4,children:Object(A.jsx)(F,{name:"To",value:o,onChange:function(e){return i(e.target.value)},isFiltered:!1})})]}),Object(A.jsx)(je,{fromCurrency:n,toCurrency:o,amount:u})]})}var Oe=n(17),fe=n(352),ge=n(353);function pe(){var e=Object(o.e)((function(e){return e.exchanges.convertionsList})),t=Object(Oe.a)(e),n=t.length;return Object(A.jsx)(L.a,{sx:{minWidth:275,display:"flex",flexDirection:"column",marginTop:"1%"},children:n?t.reverse().map((function(e,t){return Object(A.jsx)(fe.a,{variant:"outlined",children:Object(A.jsxs)(ge.a,{children:[Object(A.jsx)(re.a,{sx:{fontSize:14},color:"text.secondary",gutterBottom:!0,children:(n=null===e||void 0===e?void 0:e.convertionTime,new Date(n).toLocaleString())}),Object(A.jsxs)(re.a,{variant:"h6",component:"div",textAlign:"center",className:"conversion-history-record",children:[e.amount," ",e.from," to"," ",e.convertionAmount," ",e.to]})]})},t);var n})):Object(A.jsx)(re.a,{sx:{fontSize:14,textAlign:"center"},color:"text.secondary",gutterBottom:!0,children:"No previous conversions found!"})})}function ve(){return Object(A.jsx)(L.a,{className:"conversion-container",sx:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:Object(A.jsxs)(G.a,{elevation:12,className:"conversion-wrapper",children:[Object(A.jsx)(me,{}),Object(A.jsx)(pe,{})]})})}var ye=n(335),Ce=n(354);function we(){var e=a.useState(0),t=Object(f.a)(e,2),n=t[0],r=t[1];return Object(A.jsx)(L.a,{className:"nav-container",sx:{width:"100%"},children:Object(A.jsxs)(G.a,{children:[Object(A.jsxs)(ye.a,{value:n,onChange:function(e,t){r(t)},centered:!0,children:[Object(A.jsx)(Ce.a,{label:"Rates"}),Object(A.jsx)(Ce.a,{label:"Charts"}),Object(A.jsx)(Ce.a,{label:"Conversion"})]}),0===n&&Object(A.jsx)(_,{}),1===n&&Object(A.jsx)(de,{}),2===n&&Object(A.jsx)(ve,{})]})})}var De=function(){return Object(A.jsx)("div",{className:"app",children:Object(A.jsx)(O.a,{fixed:!0,className:"app-wrapper",children:Object(A.jsx)(we,{})})})},Se=Object($.a)({reducer:Object(R.a)({exchanges:K},C.reducerPath,C.reducer),middleware:function(e){return e().concat(C.middleware)}});Object(y.e)(Se.dispatch),s.a.render(Object(A.jsx)(o.a,{store:Se,children:Object(A.jsx)(i.c,{theme:m,children:Object(A.jsx)(De,{})})}),document.getElementById("root"))}},[[275,1,2]]]);
//# sourceMappingURL=main.a6af4eff.chunk.js.map